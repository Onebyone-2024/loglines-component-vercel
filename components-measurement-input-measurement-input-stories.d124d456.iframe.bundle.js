"use strict";(self.webpackChunkloglines_component=self.webpackChunkloglines_component||[]).push([[7567],{"./src/components/measurement-input/measurement-input.component.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_services_common_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/services/common.service.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");function MeasurementInput(_ref){var _props$label;let{options,measurement,setMeasurement,defaultOption,required=!1,asteriskPosition="before",disabled=!1,disabledVariant="gray",useUppercaseLabel=!1,borderError,...props}=_ref;const[dropdownOpen,setDropdownOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),dropdownRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[focus,setFocus]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[displayValue,setDisplayValue]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(measurement.qty||""),[isEditing,setIsEditing]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),isRequired=required?"after"===asteriskPosition?"required-asterisk-after":"required":"",labelFocus=focus||dropdownOpen?"themes-text-brand-v5 css-measurement-input-label-focus":"",isDisabled=disabled?`disabled-${disabledVariant}`:"",borderFocus=focus||dropdownOpen?"themes-border-brand-v5 css-measurement-input-border-focus":"",cursorDisabled=disabled?"":"cursor-pointer";return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{const handleClickOutside=event=>{dropdownRef.current&&!dropdownRef.current.contains(event.target)&&(setDropdownOpen(!1),setFocus(!1))};if(document.addEventListener("mousedown",handleClickOutside),defaultOption){const value=defaultOption.value,unitLabel=defaultOption.label,data={...measurement,unit:value,unitLabel};setMeasurement(data)}return()=>{document.removeEventListener("mousedown",handleClickOutside)}},[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{if(!isEditing)if(measurement.qty&&""!==measurement.qty){const numericValue=parseFloat(measurement.qty);if(isNaN(numericValue))setDisplayValue(measurement.qty);else{const formattedValue=(0,_services_common_service__WEBPACK_IMPORTED_MODULE_1__.Yh)(numericValue,props.decimalPlaces);setDisplayValue(formattedValue)}}else setDisplayValue("")},[null==measurement?void 0:measurement.qty,isEditing,props.decimalPlaces]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"measurement-input-container css-measurement-container",ref:dropdownRef,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:"css-measurement-input-container w-full h-inherit",children:[props.label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("label",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"h-[1px]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("p",{className:`${isRequired} ${borderError?"themes-text-red-v3":`${labelFocus} themes-text-gray-v5`}`,children:useUppercaseLabel?null===(_props$label=props.label)||void 0===_props$label?void 0:_props$label.toUpperCase():props.label})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:`\n    css-measurement-input flex rounded border\n    ${borderError||borderFocus}\n  `,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("input",{type:"text",value:isEditing?measurement.qty||"":displayValue,onChange:e=>{const value=e.target.value;if(""!==value&&!/^[0-9]*\.?[0-9]*$/.test(value))return;if(void 0!==props.maxLength&&value.length>props.maxLength)return;if(void 0!==props.decimalPlaces&&null!==props.decimalPlaces){const parts=value.split(".");if(2===parts.length){const decimalPart=parts[1];if(0===props.decimalPlaces)return;if(decimalPart.length>props.decimalPlaces)return}}setDisplayValue(value);const data={...measurement,qty:""===value?void 0:value};setMeasurement(data)},onKeyDown:e=>{if("Backspace"!==e.key&&"Delete"!==e.key&&"Tab"!==e.key&&"Escape"!==e.key&&"Enter"!==e.key&&"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&"Home"!==e.key&&"End"!==e.key)return"."===e.key?0===props.decimalPlaces||displayValue.includes(".")?void e.preventDefault():void 0:void((!e.ctrlKey&&!e.metaKey||"a"!==e.key&&"c"!==e.key&&"v"!==e.key&&"x"!==e.key)&&(/^[0-9]$/.test(e.key)||e.preventDefault()))},placeholder:(null==props?void 0:props.placeholder)||"Enter here",className:`${borderFocus} ${isDisabled}`,onFocus:()=>{setFocus(!0),setIsEditing(!0),measurement.qty&&setDisplayValue(measurement.qty)},onBlur:()=>{if(setFocus(!1),setIsEditing(!1),measurement.qty&&""!==measurement.qty){const numericValue=parseFloat(measurement.qty);if(!isNaN(numericValue)){const formattedValue=(0,_services_common_service__WEBPACK_IMPORTED_MODULE_1__.Yh)(numericValue,props.decimalPlaces);setDisplayValue(formattedValue)}}},disabled,...props}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{className:`unit ccs-measurement-unit ${isDisabled}`,onClick:data=>!disabled&&(data.stopPropagation(),void setDropdownOpen(!dropdownOpen)),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{className:"border-l pl-2 pr-2 h-full flex items-center justify-center "+(borderError?"themes-text-red-v3 themes-border-red-v3-important":""),children:null!=measurement&&measurement.unitLabel?null==measurement?void 0:measurement.unitLabel:"SELECT"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("i",{className:`\n      ${dropdownOpen?"ri-arrow-up-s-line":"ri-arrow-down-s-line"}\n      ${cursorDisabled}\n      ${borderError?"themes-text-red-v3":"themes-text-gray-v5"}\n    `})]})]})]}),dropdownOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"dropdown-list css-measurement-dropdown-container",children:options.length?options.map(unitOption=>{const activeClass=unitOption.value===(null==measurement?void 0:measurement.unit)?"themes-bg-brand-v2":"themes-bg-white";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{onClick:()=>{(selectedOption=>{const value=selectedOption.value,unitLabel=selectedOption.label,data={...measurement,unit:value,unitLabel};setMeasurement(data),setDropdownOpen(!1)})(unitOption),props.additionalSelectOption&&props.additionalSelectOption(unitOption)},className:`${activeClass} css-measurement-dropdown-item p-2 cursor-pointer rounded themes-bg-hover-gray-v1`,children:(null==unitOption?void 0:unitOption.customLabelOption)||unitOption.label},unitOption.value)}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"themes-bg-white h-10 flex items-center justify-center themes-text-gray-v5",children:"No options"})})]})}const __WEBPACK_DEFAULT_EXPORT__=MeasurementInput;MeasurementInput.__docgenInfo={description:"",methods:[],displayName:"MeasurementInput",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"}],raw:"IDropdownItem<T>[]"},description:""},measurement:{required:!0,tsType:{name:"IMeasurement"},description:""},setMeasurement:{required:!0,tsType:{name:"signature",type:"function",raw:"(option: IMeasurement) => void",signature:{arguments:[{type:{name:"IMeasurement"},name:"option"}],return:{name:"void"}}},description:""},defaultOption:{required:!1,tsType:{name:"IDropdownItem"},description:""},borderError:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},asteriskPosition:{required:!1,tsType:{name:"union",raw:"'before' | 'after'",elements:[{name:"literal",value:"'before'"},{name:"literal",value:"'after'"}]},description:"",defaultValue:{value:"'before'",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},label:{required:!1,tsType:{name:"string"},description:""},disabledVariant:{required:!1,tsType:{name:"union",raw:"'white' | 'gray'",elements:[{name:"literal",value:"'white'"},{name:"literal",value:"'gray'"}]},description:"",defaultValue:{value:"'gray'",computed:!1}},useUppercaseLabel:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},decimalPlaces:{required:!1,tsType:{name:"number"},description:""},maxLength:{required:!1,tsType:{name:"number"},description:""},additionalSelectOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: IDropdownItem<T>) => void",signature:{arguments:[{type:{name:"IDropdownItem",elements:[{name:"T"}],raw:"IDropdownItem<T>"},name:"data"}],return:{name:"void"}}},description:""}}}},"./src/components/measurement-input/measurement-input.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_measurement_input_component__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/measurement-input/measurement-input.component.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/MeasurementInput",component:_measurement_input_component__WEBPACK_IMPORTED_MODULE_1__.A,argTypes:{label:{control:"text"},placeholder:{control:"text"},required:{control:"boolean"},disabled:{control:"boolean"},borderError:{control:"text"}}},Default=(args=>{const[measurement,setMeasurement]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({qty:"",unit:"",unitLabel:""});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_measurement_input_component__WEBPACK_IMPORTED_MODULE_1__.A,{...args,measurement,setMeasurement:val=>{setMeasurement(val)}})}).bind({});Default.args={label:"Quantity",placeholder:"Enter quantity",options:[{label:"Kg",value:"kg"},{label:"Gram",value:"g"},{label:"Liter",value:"l"}],required:!1,disabled:!1,borderError:""};const __namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  // local state to control measurement (qty + unit)\n  const [measurement, setMeasurement] = useState<IMeasurement>({\n    qty: '',\n    unit: '',\n    unitLabel: ''\n  });\n  return <MeasurementInput {...args} measurement={measurement} setMeasurement={val => {\n    setMeasurement(val);\n  }} />;\n}",...Default.parameters?.docs?.source}}}},"./src/config/tmp_package.json":module=>{module.exports=JSON.parse('{"Tc":"release-2025.12.29.16.12.40"}')},"./src/services/common.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Yh:()=>formatDecimalNumber,Yq:()=>formatDate,qC:()=>numberWithCommas,vt:()=>formatDecimalNumberToIndonesian});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/config/config-i18n.service.ts"),__webpack_require__("./src/config/tmp_package.json");const formatDate=(dateString,typeFormat,typeFormatSource)=>{const date=typeFormatSource?moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString,typeFormatSource):moment__WEBPACK_IMPORTED_MODULE_0___default()(dateString);if(!date.isValid()||!dateString)return"";return date.format(typeFormat||"DD/MM/YYYY")},numberWithCommas=x=>{if(!x)return x;const parts=x.toString().split(".");return parts[0]=parts[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),parts.join(".")};const formatDecimalNumber=(value,decimalPlaces)=>{if(null==value||isNaN(value))return decimalPlaces&&0!==decimalPlaces?"0."+"0".repeat(decimalPlaces):"0";if("string"==typeof value&&(value=parseFloat(value)),value>0&&value<.001)return value.toString();if(void 0===decimalPlaces){const valueString=value.toString();return numberWithCommas(valueString)}if(0===decimalPlaces){const integerPart=value.toString().split(".")[0];return numberWithCommas(integerPart)}const truncated=((value,decimalPlaces)=>{const valueString=value.toString();if(!valueString.includes("."))return 0===decimalPlaces?valueString:valueString+"."+"0".repeat(decimalPlaces);const[integerPart,decimalPart]=valueString.split(".");return 0===decimalPlaces?integerPart:decimalPart.length>decimalPlaces?integerPart+"."+decimalPart.substring(0,decimalPlaces):decimalPart.length<decimalPlaces?integerPart+"."+decimalPart.padEnd(decimalPlaces,"0"):integerPart+"."+decimalPart})(value,decimalPlaces);return numberWithCommas(truncated)},formatDecimalNumberToIndonesian=function(value){let decimalPlaces=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(null==value||isNaN(value))return"0,00";const valueString=value.toString();if(value>0&&value<.001)return valueString.replace(".",",");let formattedValue;return formattedValue=valueString.includes(".")?valueString:value.toFixed(decimalPlaces),formattedValue.replace(".",",").replace(/\B(?=(\d{3})+(?!\d))/g,".")}}}]);